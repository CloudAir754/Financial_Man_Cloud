# Financial_Man_Cloud
个人财务管理软件

### 个人记账软件项目需求文档

---
#### **项目名称**: 个人记账软件  
#### **项目目标**: 开发一个模块化、可扩展的个人记账软件，支持账单管理、消费分析、数据备份等功能，满足用户日常记账和财务分析需求。


---

## 1. 项目概述
本项目旨在开发一个个人记账软件，帮助用户管理日常账单、分析消费行为，并提供数据备份和每日收支总结功能。软件采用模块化设计，支持前后端分离，便于后续扩展和维护。

---

## 2. 功能需求

### 2.1 用户管理模块
#### 功能描述
- **管理员功能**:
  - 维护普通用户列表（查看、禁用、删除用户）。
  - 管理员无法查看普通用户的具体账单数据。
- **普通用户功能**:
  - 注册、登录、修改个人信息。
  - 每个用户的数据相互隔离，无法查看其他用户的数据。

#### 功能列表
- 用户注册（邮箱/手机号）。
- 用户登录（JWT 认证）。
- 修改个人信息（昵称、头像、联系方式）。
- 管理员管理用户列表。

---

### 2.2 账单管理模块
#### 功能描述
- **账单录入**:
  - 支持手动添加账单，字段包括：
    - 序列号（自动生成）
    - 交易时间（精确到秒）
    - 交易对方
    - 商品
    - 收/支（收入或支出）
    - 金额
    - 支付方式（如微信、支付宝、银行卡等）
    - 备注
    - 分类（用户自定义）
- **账单分类管理**:
  - 用户可以维护自己的账单分类名录（如“饮食”、“娱乐”、“其他”）。
  - 支持新增、下架分类。
- **账单导入**:
  - 支持从微信账单、支付宝账单导入数据。
  - 导入的账单初始状态为“待定”，用户需手动设置分类。
  - 支持批量设置分类。
- **资金池管理**:
  - 支持多个资金池（如微信零钱、微信零钱通、支付宝零钱、多张银行卡）。
  - 用户可以设置每个资金池的初始金额。
  - 支持自定义增加资金池。

#### 功能列表
- 手动添加、修改、删除账单。
- 维护账单分类名录。
- 从微信、支付宝导入账单。
- 管理资金池。

---

### 2.3 消费分析模块
#### 功能描述
- **消费统计**:
  - 按日、周、月统计消费总额和收入总额。
- **分类分析**:
  - 按分类统计支出占比，生成饼图或柱状图。
- **趋势分析**:
  - 生成消费趋势图，展示用户消费习惯的变化。

#### 功能列表
- 按日、周、月统计消费数据。
- 按分类统计支出占比。
- 生成消费趋势图。

---

### 2.4 存储与备份模块
#### 功能描述
- **数据库设计**:
  - 合理设计数据库表结构，确保数据一致性和完整性。
- **数据备份与导出**:
  - 提供全量备份接口，用户可以将个人数据导出为一个打包文件（如 JSON 或 CSV）。
  - 支持导入备份文件，恢复数据。

#### 功能列表
- 数据库表结构设计。
- 数据备份与导出功能。
- 数据导入功能。

---

### 2.5 每日收支总结模块
#### 功能描述
- **自动总结**:
  - 每日自动生成收支总结，包括支出总额、收入总额、账单条目数。
- **日记功能**:
  - 用户可以使用 Markdown 语法记录当日生活总结。
  - 支持保存和查看历史日记。

#### 功能列表
- 自动生成每日收支总结。
- 支持 Markdown 日记记录。
- 查看历史日记。

---

## 3. 非功能需求
- **性能**:
  - 支持快速数据查询与分析，响应时间不超过 2 秒。
- **安全性**:
  - 用户数据加密存储，使用 HTTPS 传输数据。
- **兼容性**:
  - 支持主流浏览器（Chrome、Firefox、Safari）。
- **可维护性**:
  - 代码模块化，提供详细的开发文档和注释。

---

## 4. 技术栈
- **前端**:
  - 框架：React.js 或 Vue.js。
  - UI 库：Ant Design（React）或 Vuetify（Vue）。
  - 图表库：Chart.js 或 ECharts。
  - Markdown 编辑器：`react-markdown` 或 `vue-markdown`。
- **后端**:
  - 语言：Node.js（Express/Koa）或 Python（Django/Flask）。
  - 数据库：MySQL/PostgreSQL。
  - 数据分析：Pandas、NumPy（Python）。
- **部署**:
  - 服务器：Nginx 或 Apache。
  - 云服务：AWS、阿里云、腾讯云等。

---

## 5. 数据库设计
### 表结构
- **用户表（User）**:
  - 用户ID（主键）
  - 用户名
  - 密码哈希
  - 邮箱
  - 角色（管理员/普通用户）
- **账单表（Bill）**:
  - 账单ID（主键）
  - 用户ID（外键）
  - 序列号
  - 交易时间
  - 交易对方
  - 商品
  - 收/支
  - 金额
  - 支付方式
  - 备注
  - 分类
  - 状态（待定/已分类）
- **分类表（Category）**:
  - 分类ID（主键）
  - 用户ID（外键）
  - 分类名称
  - 是否启用
- **资金池表（Account）**:
  - 账户ID（主键）
  - 用户ID（外键）
  - 账户名称
  - 初始金额
  - 当前余额
- **日记表（Diary）**:
  - 日记ID（主键）
  - 用户ID（外键）
  - 日期
  - 收支总结（JSON格式）
  - 日记内容（Markdown格式）

---

## 6. API 接口设计
### 示例 API
- **用户登录**:
  - `POST /api/login`
  - 请求参数：`{ "username": "xxx", "password": "xxx" }`
  - 返回参数：`{ "token": "xxx" }`
- **添加账单**:
  - `POST /api/bills`
  - 请求参数：`{ "amount": 100, "category": "饮食", ... }`
  - 返回参数：`{ "billId": 1 }`
- **获取消费统计**:
  - `GET /api/analysis?period=month`
  - 返回参数：`{ "totalExpense": 1000, "totalIncome": 2000, ... }`

---




